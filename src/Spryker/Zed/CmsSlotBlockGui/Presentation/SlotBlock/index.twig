{% set actionsButtonsTemplate %}
    <a href="#" class="btn btn-xs btn-outline btn-create" data-direction="up" onclick="return false;">
        <i class="fa fa-arrow-up"></i>
        {{ 'Move Up' | trans }}
    </a>
    <a href="#" class="btn btn-xs btn-outline  btn-create" data-direction="down" onclick="return false;">
        <i class="fa fa-arrow-down"></i>
        {{ 'Move Down' | trans }}
    </a>
    <a href="" class="btn btn-xs btn-outline  btn-view">
        {{ 'View Block' | trans }}
    </a>
    <a href="#" class="btn btn-xs btn-outline  btn-danger" onclick="return false;">
        <i class="fa fa-trash"></i>
        {{ 'Delete' | trans }}
    </a>
{% endset %}
{% set activeLabelTemplate %}
    <span class="label label-info">{{ 'Active' | trans }}</span>
{% endset %}
{% set inactiveLabelTemplate %}
    <span class="label label-danger">{{ 'Inactive' | trans }}</span>
{% endset %}
{% set storeTemplate %}
    <span class="label label-info"></span>
{% endset %}

{% embed '@Gui/Partials/widget.twig' with {
    row_class: 'js-row-list-of-blocks-container',
} %}

    {% block widget_title -%}
        <h5>{{ 'List of Blocks for "%SLOT_NAME%" Slot' | trans({"%SLOT_NAME%": slotName}) }}</h5>
    {%- endblock %}

    {% block widget_content %}

        <div
            class="js-cms-slot-blocks"
            data-actions-buttons-template="{{ actionsButtonsTemplate | e }}"
            data-active-label-template="{{ activeLabelTemplate | e }}"
            data-inactive-label-template="{{ inactiveLabelTemplate | e }}"
            data-store-template="{{ storeTemplate | e }}"
            data-slot-block-item-form-prototype="{{ form_widget(cmsSlotBlockCollectionForm.cmsSlotBlocks.vars.prototype) | e }}"
        >
            {{ form_start(cmsBlockChoiceForm) }}
                {{ form_widget(cmsBlockChoiceForm) }}
            {{ form_end(cmsBlockChoiceForm) }}

            {{ slotBlockTable | raw }}

            {{ form_start(cmsSlotBlockCollectionForm, {'action': '/cms-slot-block-gui/slot-block'}) }}

            {% for slotBlockItemForm in cmsSlotBlockCollectionForm.cmsSlotBlocks %}
                {{ form_widget(slotBlockItemForm.idSlotTemplate) }}
                {{ form_widget(slotBlockItemForm.idSlot) }}
                {{ form_widget(slotBlockItemForm.idCmsBlock) }}
                {{ form_widget(slotBlockItemForm.position) }}
            {% endfor %}

            <input type="submit" class="btn btn-primary safe-submit" value="{{ 'Save' | trans }}" />

            {{ form_end(cmsSlotBlockCollectionForm) }}
        </div>
    {% endblock %}

{% endembed %}
